<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Authentication: Question & Response</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <style>
    body { font-family: Arial, Helvetica, sans-serif; line-height: 1.6; margin: 24px; color: #111; }
    header { border-bottom: 1px solid #ddd; margin-bottom: 20px; }
    h1 { font-size: 22px; margin: 0 0 6px 0; }
    p.meta { color: #666; margin: 0 0 12px 0; }
    section { margin-bottom: 18px; }
    .card { background: #fafafa; border: 1px solid #eee; padding: 16px; border-radius: 8px; }
    .question { border-left: 4px solid #007bff; padding: 12px; background: #f0f7ff; }
    .response { border-left: 4px solid #28a745; padding: 12px; background: #f6fffa; }
    pre { white-space: pre-wrap; word-wrap: break-word; background: #fff; padding: 12px; border-radius: 6px; border: 1px solid #eee; }
    code { font-family: monospace; background: rgba(27,31,35,.05); padding: 2px 6px; border-radius: 4px; }
    footer { margin-top: 24px; color: #666; font-size: 13px; }
  </style>
</head>
<body>
  <header>
    <h1>Question & Assistant Response</h1>
    <p class="meta">Contents: "how to send authenticate data in other url requests" ‚Äî with detailed steps for JWT-based authentication and usage in Postman.</p>
  </header>

  <section>
    <div class="card question">
      <h2>Question</h2>
      <pre>how to send authenticate data in other url requests</pre>
    </div>
  </section>

  <section>
    <div class="card response">
      <h2>Assistant Response</h2>
      <div>
        <p>Excellent ‚Äî this is the <em>next natural step</em> in your Django REST API flow üëè</p>
        <p>Now that you‚Äôve successfully got signup and login working, let‚Äôs go step-by-step through <strong>how to send authentication data</strong> in other API requests (like profile update, resume upload, etc.) ‚Äî both conceptually and practically.</p>

        <h3>Step 1: Understand what ‚Äúauthentication data‚Äù means</h3>
        <p>When Django REST Framework says:</p>
        <pre>{
  "detail": "Authentication credentials were not provided."
}</pre>
        <p>It means: You‚Äôre trying to access a protected API without sending <strong>who you are</strong> (no login info or token).</p>

        <h3>Step 2: Use <strong>JWT (Token-Based Authentication)</strong></h3>
        <p>The modern standard way is:</p>
        <ol>
          <li>Login ‚Üí receive a token</li>
          <li>Send that token in the <code>Authorization</code> header for every future request</li>
        </ol>

        <h3>Step 3: Install JWT package</h3>
        <pre>pip install djangorestframework-simplejwt</pre>

        <h3>Step 4: Update <code>settings.py</code></h3>
        <pre>REST_FRAMEWORK = {
    'DEFAULT_AUTHENTICATION_CLASSES': [
        'rest_framework_simplejwt.authentication.JWTAuthentication',
    ],
    'DEFAULT_PERMISSION_CLASSES': [
        'rest_framework.permissions.IsAuthenticated',
    ],
}</pre>

        <h3>Step 5: Add JWT URLs in your <code>urls.py</code></h3>
        <pre>from django.urls import path, include
from rest_framework_simplejwt.views import TokenObtainPairView, TokenRefreshView

urlpatterns = [
    path('api/token/', TokenObtainPairView.as_view(), name='token_obtain_pair'),
    path('api/token/refresh/', TokenRefreshView.as_view(), name='token_refresh'),
    path('api/', include('users.urls')),
]</pre>

        <h3>Step 6: Get token (Login step)</h3>
        <p>In Postman, send:</p>
        <pre>POST http://127.0.0.1:8000/api/token/
Body (raw JSON):
{
  "email": "narmi@test.com",
  "password": "Test@123"
}</pre>
        <p>Response:</p>
        <pre>{
  "refresh": "eyJ0eXAiOiJKV1QiLCJh... (refresh token)",
  "access": "eyJ0eXAiOiJKV1QiLCJhbGci... (access token)"
}</pre>

        <h3>Step 7: Use that access token in all other requests</h3>
        <p>When you call any protected API (for example <code>/api/users/1/</code>, <code>/api/users/update_profile/</code>, <code>/api/resumes/</code>), send this header:</p>
        <pre>Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOi...</pre>

        <p><strong>Example in Postman</strong></p>
        <pre>PUT http://127.0.0.1:8000/api/users/1/
Headers:
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOi...
Content-Type: application/json

Body:
{
  "username": "narmi_updated",
  "email": "narmi@test.com"
}</pre>

        <p>Response:</p>
        <pre>{
  "id": 1,
  "email": "narmi@test.com",
  "username": "narmi_updated"
}</pre>

        <h3>Step 8: (Optional) Token auto-refresh</h3>
        <p>When your access token expires, refresh it using:</p>
        <pre>POST /api/token/refresh/
Body:
{
  "refresh": "your_refresh_token_here"
}</pre>

        <h3>Quick Summary</h3>
        <table>
          <tr><th>Action</th><th>URL</th><th>Auth Needed?</th><th>Description</th></tr>
          <tr><td>Signup</td><td>/api/users/</td><td>No</td><td>Create new user</td></tr>
          <tr><td>Login (token)</td><td>/api/token/</td><td>No</td><td>Get JWT tokens</td></tr>
          <tr><td>Refresh token</td><td>/api/token/refresh/</td><td>No</td><td>Get new access token</td></tr>
          <tr><td>View/Update profile</td><td>/api/users/{id}/</td><td>Yes</td><td>Use JWT token</td></tr>
          <tr><td>Upload resume</td><td>/api/users/upload_resume/</td><td>Yes</td><td>Use JWT token</td></tr>
        </table>

        <p>Would you like me to show the next API ‚Äî <code>update_profile</code> and <code>upload_resume</code> ‚Äî integrated with this JWT setup (with sample input/output for Swagger and Postman)?</p>
      </div>
    </div>
  </section>

  <footer>
    <p>Generated for your Job Portal project ‚Äî exportable HTML for offline reference.</p>
  </footer>
</body>
</html>